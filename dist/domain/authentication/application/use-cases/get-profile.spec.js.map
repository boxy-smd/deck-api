{"version":3,"sources":["../../../../../src/domain/authentication/application/use-cases/get-profile.spec.ts"],"sourcesContent":["import { ResourceNotFoundError } from '@/shared/errors/resource-not-found.error'\nimport { makeUser } from 'test/factories/make-user'\nimport { InMemoryUsersRepository } from 'test/repositories/users-repository'\nimport { User } from '../../enterprise/entities/user'\nimport type { UsersRepository } from '../repositories/users-repository'\nimport { GetProfileUseCase } from './get-profile'\n\nlet usersRepository: UsersRepository\n\nlet student: User\n\nlet sut: GetProfileUseCase\n\ndescribe('get profile use case', () => {\n  beforeEach(async () => {\n    usersRepository = new InMemoryUsersRepository()\n\n    student = await makeUser()\n\n    sut = new GetProfileUseCase(usersRepository)\n  })\n\n  it('should be able to get a student profile', async () => {\n    await usersRepository.create(student)\n\n    const result = await sut.execute({\n      username: student.username.value,\n    })\n\n    expect(result.isRight()).toBe(true)\n    expect(result.value).toBeInstanceOf(User)\n  })\n\n  it('should not be able to get a student with no id', async () => {\n    const result = await sut.execute({\n      username: '',\n    })\n\n    expect(result.isLeft()).toBe(true)\n    expect(result.value).toBeInstanceOf(ResourceNotFoundError)\n  })\n\n  it('should not be able to get a student with no student', async () => {\n    const result = await sut.execute({\n      username: 'invalid-id',\n    })\n\n    expect(result.isLeft()).toBe(true)\n    expect(result.value).toBeInstanceOf(ResourceNotFoundError)\n  })\n})\n"],"names":["usersRepository","student","sut","describe","beforeEach","InMemoryUsersRepository","makeUser","GetProfileUseCase","it","create","result","execute","username","value","expect","isRight","toBe","toBeInstanceOf","User","isLeft","ResourceNotFoundError"],"mappings":";;;;uCAAsC;0BACb;iCACe;sBACnB;4BAEa;AAElC,IAAIA;AAEJ,IAAIC;AAEJ,IAAIC;AAEJC,SAAS,wBAAwB;IAC/BC,WAAW;QACTJ,kBAAkB,IAAIK,wCAAuB;QAE7CJ,UAAU,MAAMK,IAAAA,kBAAQ;QAExBJ,MAAM,IAAIK,6BAAiB,CAACP;IAC9B;IAEAQ,GAAG,2CAA2C;QAC5C,MAAMR,gBAAgBS,MAAM,CAACR;QAE7B,MAAMS,SAAS,MAAMR,IAAIS,OAAO,CAAC;YAC/BC,UAAUX,QAAQW,QAAQ,CAACC,KAAK;QAClC;QAEAC,OAAOJ,OAAOK,OAAO,IAAIC,IAAI,CAAC;QAC9BF,OAAOJ,OAAOG,KAAK,EAAEI,cAAc,CAACC,UAAI;IAC1C;IAEAV,GAAG,kDAAkD;QACnD,MAAME,SAAS,MAAMR,IAAIS,OAAO,CAAC;YAC/BC,UAAU;QACZ;QAEAE,OAAOJ,OAAOS,MAAM,IAAIH,IAAI,CAAC;QAC7BF,OAAOJ,OAAOG,KAAK,EAAEI,cAAc,CAACG,4CAAqB;IAC3D;IAEAZ,GAAG,uDAAuD;QACxD,MAAME,SAAS,MAAMR,IAAIS,OAAO,CAAC;YAC/BC,UAAU;QACZ;QAEAE,OAAOJ,OAAOS,MAAM,IAAIH,IAAI,CAAC;QAC7BF,OAAOJ,OAAOG,KAAK,EAAEI,cAAc,CAACG,4CAAqB;IAC3D;AACF"}