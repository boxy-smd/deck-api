{"version":3,"sources":["../../../../../src/domain/authentication/enterprise/entities/student-profile.ts"],"sourcesContent":["import type { Trail } from '@/domain/projects/enterprise/entities/trail'\nimport { Entity } from '@/shared/kernel/entity'\nimport type { UniqueEntityID } from '@/shared/kernel/unique-entity-id'\nimport type { Optional } from '@/shared/types/optional'\nimport type { Semester } from '../value-objects/semester'\n\nexport interface StudentProfileProps {\n  semester: Semester\n\n  trailsIds: Set<UniqueEntityID<Trail>>\n}\n\nexport class StudentProfile extends Entity<StudentProfileProps> {\n  static create(\n    props: Optional<StudentProfileProps, 'trailsIds'>,\n    studentId: UniqueEntityID,\n  ) {\n    return new StudentProfile(\n      {\n        ...props,\n        trailsIds: new Set(),\n      },\n      studentId,\n    )\n  }\n\n  static reconstitute(\n    props: StudentProfileProps,\n    studentId: UniqueEntityID,\n    createdAt: Date,\n    updatedAt: Date,\n  ) {\n    return new StudentProfile(props, studentId, createdAt, updatedAt)\n  }\n\n  public updateSemester(semester: Semester) {\n    this.props.semester = semester\n  }\n\n  public addTrail(trailId: UniqueEntityID<Trail>) {\n    this.props.trailsIds.add(trailId)\n  }\n\n  public removeTrail(trailId: UniqueEntityID<Trail>) {\n    this.props.trailsIds.delete(trailId)\n  }\n\n  // --- 3. Getters ---\n  get semester() {\n    return this.props.semester\n  }\n\n  get trailsIds() {\n    // Return a copy to prevent external mutation\n    return [...this.props.trailsIds]\n  }\n}\n"],"names":["StudentProfile","Entity","create","props","studentId","trailsIds","Set","reconstitute","createdAt","updatedAt","updateSemester","semester","addTrail","trailId","add","removeTrail","delete"],"mappings":";;;;+BAYaA;;;eAAAA;;;wBAXU;AAWhB,IAAA,AAAMA,iBAAN,MAAMA,uBAAuBC,cAAM;IACxC,OAAOC,OACLC,KAAiD,EACjDC,SAAyB,EACzB;QACA,OAAO,IAAIJ,eACT;YACE,GAAGG,KAAK;YACRE,WAAW,IAAIC;QACjB,GACAF;IAEJ;IAEA,OAAOG,aACLJ,KAA0B,EAC1BC,SAAyB,EACzBI,SAAe,EACfC,SAAe,EACf;QACA,OAAO,IAAIT,eAAeG,OAAOC,WAAWI,WAAWC;IACzD;IAEOC,eAAeC,QAAkB,EAAE;QACxC,IAAI,CAACR,KAAK,CAACQ,QAAQ,GAAGA;IACxB;IAEOC,SAASC,OAA8B,EAAE;QAC9C,IAAI,CAACV,KAAK,CAACE,SAAS,CAACS,GAAG,CAACD;IAC3B;IAEOE,YAAYF,OAA8B,EAAE;QACjD,IAAI,CAACV,KAAK,CAACE,SAAS,CAACW,MAAM,CAACH;IAC9B;IAEA,qBAAqB;IACrB,IAAIF,WAAW;QACb,OAAO,IAAI,CAACR,KAAK,CAACQ,QAAQ;IAC5B;IAEA,IAAIN,YAAY;QACd,6CAA6C;QAC7C,OAAO;eAAI,IAAI,CAACF,KAAK,CAACE,SAAS;SAAC;IAClC;AACF"}