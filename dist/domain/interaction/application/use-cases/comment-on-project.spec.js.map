{"version":3,"sources":["../../../../../src/domain/interaction/application/use-cases/comment-on-project.spec.ts"],"sourcesContent":["import type { UsersRepository } from '@/domain/authentication/application/repositories/users-repository'\nimport type { User } from '@/domain/authentication/enterprise/entities/user'\nimport { makeProject } from 'test/factories/make-project'\nimport { makeUser } from 'test/factories/make-user'\nimport { InMemoryProjectsRepository } from 'test/repositories/projects-repository'\nimport { InMemoryUsersRepository } from 'test/repositories/users-repository'\nimport type { Project } from '../../../projects/enterprise/entities/project'\nimport { CommentOnProjectUseCase } from './comment-on-project'\n\nimport { InMemoryCommentsRepository } from 'test/repositories/comments-repository'\nimport type { CommentsRepository } from '@/domain/interaction/application/repositories/comments-repository'\n\nlet usersRepository: UsersRepository\nlet projectsRepository: InMemoryProjectsRepository\nlet commentsRepository: CommentsRepository\n\nlet author: User\nlet project: Project\n\nlet sut: CommentOnProjectUseCase\n\ndescribe('comment on project use case', () => {\n  beforeEach(async () => {\n    usersRepository = new InMemoryUsersRepository()\n    projectsRepository = new InMemoryProjectsRepository()\n    commentsRepository = new InMemoryCommentsRepository(usersRepository)\n\n    author = await makeUser()\n    project = makeProject()\n\n    await usersRepository.create(author)\n    await projectsRepository.create(project)\n\n    sut = new CommentOnProjectUseCase(projectsRepository, usersRepository, commentsRepository)\n  })\n\n  it('should be able to comment on a project', async () => {\n    const result = await sut.execute({\n      authorId: author.id.toString(),\n      projectId: project.id.toString(),\n      content: 'Parab√©ns pelo projeto!',\n    })\n\n    expect(result.isRight()).toBe(true)\n    expect(result.value).toEqual(\n      expect.objectContaining({\n        commentId: expect.any(String),\n      }),\n    )\n  })\n})\n"],"names":["usersRepository","projectsRepository","commentsRepository","author","project","sut","describe","beforeEach","InMemoryUsersRepository","InMemoryProjectsRepository","InMemoryCommentsRepository","makeUser","makeProject","create","CommentOnProjectUseCase","it","result","execute","authorId","id","toString","projectId","content","expect","isRight","toBe","value","toEqual","objectContaining","commentId","any","String"],"mappings":";;;;6BAE4B;0BACH;oCACkB;iCACH;kCAEA;oCAEG;AAG3C,IAAIA;AACJ,IAAIC;AACJ,IAAIC;AAEJ,IAAIC;AACJ,IAAIC;AAEJ,IAAIC;AAEJC,SAAS,+BAA+B;IACtCC,WAAW;QACTP,kBAAkB,IAAIQ,wCAAuB;QAC7CP,qBAAqB,IAAIQ,8CAA0B;QACnDP,qBAAqB,IAAIQ,8CAA0B,CAACV;QAEpDG,SAAS,MAAMQ,IAAAA,kBAAQ;QACvBP,UAAUQ,IAAAA,wBAAW;QAErB,MAAMZ,gBAAgBa,MAAM,CAACV;QAC7B,MAAMF,mBAAmBY,MAAM,CAACT;QAEhCC,MAAM,IAAIS,yCAAuB,CAACb,oBAAoBD,iBAAiBE;IACzE;IAEAa,GAAG,0CAA0C;QAC3C,MAAMC,SAAS,MAAMX,IAAIY,OAAO,CAAC;YAC/BC,UAAUf,OAAOgB,EAAE,CAACC,QAAQ;YAC5BC,WAAWjB,QAAQe,EAAE,CAACC,QAAQ;YAC9BE,SAAS;QACX;QAEAC,OAAOP,OAAOQ,OAAO,IAAIC,IAAI,CAAC;QAC9BF,OAAOP,OAAOU,KAAK,EAAEC,OAAO,CAC1BJ,OAAOK,gBAAgB,CAAC;YACtBC,WAAWN,OAAOO,GAAG,CAACC;QACxB;IAEJ;AACF"}