{"version":3,"sources":["../../../../../src/domain/interaction/enterprise/entities/report.ts"],"sourcesContent":["import type { StudentProfile } from '@/domain/authentication/enterprise/entities/student-profile'\nimport { Entity } from '@/shared/kernel/entity'\nimport type { UniqueEntityID } from '@/shared/kernel/unique-entity-id'\nimport type { Optional } from '@/shared/types/optional'\nimport type { Comment } from './comment'\n\nexport interface ReportProps {\n  content: string\n  isResolved: boolean\n\n  authorId: UniqueEntityID<StudentProfile>\n  commentId: UniqueEntityID<Comment>\n}\n\nexport class Report extends Entity<ReportProps> {\n  // --- 1. Factory methods ---\n  static create(\n    props: Optional<ReportProps, 'isResolved'>,\n    id?: UniqueEntityID,\n  ): Report {\n    return new Report(\n      {\n        ...props,\n        isResolved: false,\n      },\n      id,\n    )\n  }\n\n  static reconstitute(\n    props: ReportProps,\n    id: UniqueEntityID,\n    createdAt: Date,\n    updatedAt: Date,\n  ): Report {\n    return new Report(props, id, createdAt, updatedAt)\n  }\n\n  // --- 2. Methods ---\n  public resolve() {\n    this.props.isResolved = true\n    this.touch()\n  }\n\n  // --- 3. Getters ---\n  get content() {\n    return this.props.content\n  }\n\n  get isResolved() {\n    return this.props.isResolved\n  }\n\n  get authorId() {\n    return this.props.authorId\n  }\n\n  get commentId() {\n    return this.props.commentId\n  }\n}\n"],"names":["Report","Entity","create","props","id","isResolved","reconstitute","createdAt","updatedAt","resolve","touch","content","authorId","commentId"],"mappings":";;;;+BAcaA;;;eAAAA;;;wBAbU;AAahB,IAAA,AAAMA,SAAN,MAAMA,eAAeC,cAAM;IAChC,6BAA6B;IAC7B,OAAOC,OACLC,KAA0C,EAC1CC,EAAmB,EACX;QACR,OAAO,IAAIJ,OACT;YACE,GAAGG,KAAK;YACRE,YAAY;QACd,GACAD;IAEJ;IAEA,OAAOE,aACLH,KAAkB,EAClBC,EAAkB,EAClBG,SAAe,EACfC,SAAe,EACP;QACR,OAAO,IAAIR,OAAOG,OAAOC,IAAIG,WAAWC;IAC1C;IAEA,qBAAqB;IACdC,UAAU;QACf,IAAI,CAACN,KAAK,CAACE,UAAU,GAAG;QACxB,IAAI,CAACK,KAAK;IACZ;IAEA,qBAAqB;IACrB,IAAIC,UAAU;QACZ,OAAO,IAAI,CAACR,KAAK,CAACQ,OAAO;IAC3B;IAEA,IAAIN,aAAa;QACf,OAAO,IAAI,CAACF,KAAK,CAACE,UAAU;IAC9B;IAEA,IAAIO,WAAW;QACb,OAAO,IAAI,CAACT,KAAK,CAACS,QAAQ;IAC5B;IAEA,IAAIC,YAAY;QACd,OAAO,IAAI,CAACV,KAAK,CAACU,SAAS;IAC7B;AACF"}