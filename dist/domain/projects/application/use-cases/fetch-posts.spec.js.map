{"version":3,"sources":["../../../../../src/domain/projects/application/use-cases/fetch-posts.spec.ts"],"sourcesContent":["import type { UsersRepository } from '@/domain/authentication/application/repositories/users-repository'\nimport type { User } from '@/domain/authentication/enterprise/entities/user'\nimport { makeProject } from 'test/factories/make-project'\nimport { makeTrail } from 'test/factories/make-trail'\nimport { makeUser } from 'test/factories/make-user'\nimport { InMemoryProjectsRepository } from 'test/repositories/projects-repository'\nimport { InMemorySubjectsRepository } from 'test/repositories/subjects-repository'\nimport { InMemoryTrailsRepository } from 'test/repositories/trails-repository'\nimport { InMemoryUsersRepository } from 'test/repositories/users-repository'\nimport type { Project } from '../../enterprise/entities/project'\nimport type { Trail } from '../../enterprise/entities/trail'\nimport type { ProjectsRepository } from '../repositories/projects-repository'\nimport type { SubjectsRepository } from '../repositories/subjects-repository'\nimport type { TrailsRepository } from '../repositories/trails-repository'\nimport { FetchPostsUseCase } from './fetch-posts'\n\nlet projectsRepository: ProjectsRepository\nlet studentsRepository: UsersRepository\nlet subjectsRepository: SubjectsRepository\nlet trailsRepository: TrailsRepository\n\nlet author: User\nlet trail: Trail\nlet project: Project\n\nlet sut: FetchPostsUseCase\n\ndescribe('fetch posts use case', () => {\n  beforeEach(async () => {\n    studentsRepository = new InMemoryUsersRepository()\n    subjectsRepository = new InMemorySubjectsRepository()\n    trailsRepository = new InMemoryTrailsRepository()\n\n    projectsRepository = new InMemoryProjectsRepository(\n      studentsRepository,\n      subjectsRepository,\n      trailsRepository,\n    )\n\n    author = await makeUser()\n    trail = makeTrail()\n\n    project = makeProject({\n      authorId: author.id,\n      trails: new Set([trail.id]),\n    })\n\n    await studentsRepository.create(author)\n    await trailsRepository.create(trail)\n    await projectsRepository.create(project)\n\n    sut = new FetchPostsUseCase(projectsRepository)\n  })\n\n  it('should be able to fetch posts', async () => {\n    const result = await sut.execute()\n\n    expect(result).length(1)\n    expect(result[0].title).toBe(project.title)\n  })\n})\n"],"names":["projectsRepository","studentsRepository","subjectsRepository","trailsRepository","author","trail","project","sut","describe","beforeEach","InMemoryUsersRepository","InMemorySubjectsRepository","InMemoryTrailsRepository","InMemoryProjectsRepository","makeUser","makeTrail","makeProject","authorId","id","trails","Set","create","FetchPostsUseCase","it","result","execute","expect","length","title","toBe"],"mappings":";;;;6BAE4B;2BACF;0BACD;oCACkB;oCACA;kCACF;iCACD;4BAMN;AAElC,IAAIA;AACJ,IAAIC;AACJ,IAAIC;AACJ,IAAIC;AAEJ,IAAIC;AACJ,IAAIC;AACJ,IAAIC;AAEJ,IAAIC;AAEJC,SAAS,wBAAwB;IAC/BC,WAAW;QACTR,qBAAqB,IAAIS,wCAAuB;QAChDR,qBAAqB,IAAIS,8CAA0B;QACnDR,mBAAmB,IAAIS,0CAAwB;QAE/CZ,qBAAqB,IAAIa,8CAA0B,CACjDZ,oBACAC,oBACAC;QAGFC,SAAS,MAAMU,IAAAA,kBAAQ;QACvBT,QAAQU,IAAAA,oBAAS;QAEjBT,UAAUU,IAAAA,wBAAW,EAAC;YACpBC,UAAUb,OAAOc,EAAE;YACnBC,QAAQ,IAAIC,IAAI;gBAACf,MAAMa,EAAE;aAAC;QAC5B;QAEA,MAAMjB,mBAAmBoB,MAAM,CAACjB;QAChC,MAAMD,iBAAiBkB,MAAM,CAAChB;QAC9B,MAAML,mBAAmBqB,MAAM,CAACf;QAEhCC,MAAM,IAAIe,6BAAiB,CAACtB;IAC9B;IAEAuB,GAAG,iCAAiC;QAClC,MAAMC,SAAS,MAAMjB,IAAIkB,OAAO;QAEhCC,OAAOF,QAAQG,MAAM,CAAC;QACtBD,OAAOF,MAAM,CAAC,EAAE,CAACI,KAAK,EAAEC,IAAI,CAACvB,QAAQsB,KAAK;IAC5C;AACF"}