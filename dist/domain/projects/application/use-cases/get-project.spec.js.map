{"version":3,"sources":["../../../../../src/domain/projects/application/use-cases/get-project.spec.ts"],"sourcesContent":["import type { UsersRepository } from '@/domain/authentication/application/repositories/users-repository'\nimport type { User } from '@/domain/authentication/enterprise/entities/user'\nimport { makeProject } from 'test/factories/make-project'\nimport { makeTrail } from 'test/factories/make-trail'\nimport { makeUser } from 'test/factories/make-user'\nimport { InMemoryProjectsRepository } from 'test/repositories/projects-repository'\nimport { InMemorySubjectsRepository } from 'test/repositories/subjects-repository'\nimport { InMemoryTrailsRepository } from 'test/repositories/trails-repository'\nimport { InMemoryUsersRepository } from 'test/repositories/users-repository'\nimport { Project } from '../../enterprise/entities/project'\nimport type { Trail } from '../../enterprise/entities/trail'\nimport type { ProjectsRepository } from '../repositories/projects-repository'\nimport type { SubjectsRepository } from '../repositories/subjects-repository'\nimport type { TrailsRepository } from '../repositories/trails-repository'\nimport { GetProjectUseCase } from './get-project'\n\nlet studentsRepository: UsersRepository\nlet subjectsRepository: SubjectsRepository\nlet trailsRepository: TrailsRepository\nlet projectsRepository: ProjectsRepository\n\nlet author: User\nlet trail: Trail\nlet project: Project\n\nlet sut: GetProjectUseCase\n\ndescribe('get project use case', () => {\n  beforeEach(async () => {\n    studentsRepository = new InMemoryUsersRepository()\n    subjectsRepository = new InMemorySubjectsRepository()\n    trailsRepository = new InMemoryTrailsRepository()\n\n    projectsRepository = new InMemoryProjectsRepository(\n      studentsRepository,\n      subjectsRepository,\n      trailsRepository,\n    )\n\n    author = await makeUser()\n\n    trail = makeTrail()\n\n    project = makeProject({\n      authorId: author.id,\n      trails: new Set([trail.id]),\n    })\n\n    await studentsRepository.create(author)\n    await trailsRepository.create(trail)\n\n    sut = new GetProjectUseCase(projectsRepository)\n  })\n\n  it('should be able to get a project', async () => {\n    await projectsRepository.create(project)\n\n    const result = await sut.execute({\n      projectId: project.id.toString(),\n    })\n\n    expect(result.isRight()).toBe(true)\n    expect(result.value).toBeInstanceOf(Project)\n  })\n})\n"],"names":["studentsRepository","subjectsRepository","trailsRepository","projectsRepository","author","trail","project","sut","describe","beforeEach","InMemoryUsersRepository","InMemorySubjectsRepository","InMemoryTrailsRepository","InMemoryProjectsRepository","makeUser","makeTrail","makeProject","authorId","id","trails","Set","create","GetProjectUseCase","it","result","execute","projectId","toString","expect","isRight","toBe","value","toBeInstanceOf","Project"],"mappings":";;;;6BAE4B;2BACF;0BACD;oCACkB;oCACA;kCACF;iCACD;yBAChB;4BAKU;AAElC,IAAIA;AACJ,IAAIC;AACJ,IAAIC;AACJ,IAAIC;AAEJ,IAAIC;AACJ,IAAIC;AACJ,IAAIC;AAEJ,IAAIC;AAEJC,SAAS,wBAAwB;IAC/BC,WAAW;QACTT,qBAAqB,IAAIU,wCAAuB;QAChDT,qBAAqB,IAAIU,8CAA0B;QACnDT,mBAAmB,IAAIU,0CAAwB;QAE/CT,qBAAqB,IAAIU,8CAA0B,CACjDb,oBACAC,oBACAC;QAGFE,SAAS,MAAMU,IAAAA,kBAAQ;QAEvBT,QAAQU,IAAAA,oBAAS;QAEjBT,UAAUU,IAAAA,wBAAW,EAAC;YACpBC,UAAUb,OAAOc,EAAE;YACnBC,QAAQ,IAAIC,IAAI;gBAACf,MAAMa,EAAE;aAAC;QAC5B;QAEA,MAAMlB,mBAAmBqB,MAAM,CAACjB;QAChC,MAAMF,iBAAiBmB,MAAM,CAAChB;QAE9BE,MAAM,IAAIe,6BAAiB,CAACnB;IAC9B;IAEAoB,GAAG,mCAAmC;QACpC,MAAMpB,mBAAmBkB,MAAM,CAACf;QAEhC,MAAMkB,SAAS,MAAMjB,IAAIkB,OAAO,CAAC;YAC/BC,WAAWpB,QAAQY,EAAE,CAACS,QAAQ;QAChC;QAEAC,OAAOJ,OAAOK,OAAO,IAAIC,IAAI,CAAC;QAC9BF,OAAOJ,OAAOO,KAAK,EAAEC,cAAc,CAACC,gBAAO;IAC7C;AACF"}