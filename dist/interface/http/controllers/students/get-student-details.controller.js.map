{"version":3,"sources":["../../../../../src/interface/http/controllers/students/get-student-details.controller.ts"],"sourcesContent":["import { makeGetStudentDetailsUseCase } from '@/interface/factories/students/make-get-student-details-use-case'\nimport type { FastifyReply, FastifyRequest } from 'fastify'\nimport { StudentProfilePresenter } from '../../presenters/student-profile'\n\nexport async function getStudentDetails(\n  request: FastifyRequest,\n  reply: FastifyReply,\n) {\n  const studentId = request.user.sign.sub\n\n  const getStudentDetailsUseCase = makeGetStudentDetailsUseCase()\n\n  const result = await getStudentDetailsUseCase.execute({\n    studentId,\n  })\n\n  if (result.isLeft()) {\n    const error = result.value\n    return reply.status(error.statusCode).send({ message: error.message })\n  }\n\n  return reply.status(200).send({\n    details: StudentProfilePresenter.toHTTP(result.value),\n  })\n}\n"],"names":["getStudentDetails","request","reply","studentId","user","sign","sub","getStudentDetailsUseCase","makeGetStudentDetailsUseCase","result","execute","isLeft","error","value","status","statusCode","send","message","details","StudentProfilePresenter","toHTTP"],"mappings":";;;;+BAIsBA;;;eAAAA;;;8CAJuB;gCAEL;AAEjC,eAAeA,kBACpBC,OAAuB,EACvBC,KAAmB;IAEnB,MAAMC,YAAYF,QAAQG,IAAI,CAACC,IAAI,CAACC,GAAG;IAEvC,MAAMC,2BAA2BC,IAAAA,0DAA4B;IAE7D,MAAMC,SAAS,MAAMF,yBAAyBG,OAAO,CAAC;QACpDP;IACF;IAEA,IAAIM,OAAOE,MAAM,IAAI;QACnB,MAAMC,QAAQH,OAAOI,KAAK;QAC1B,OAAOX,MAAMY,MAAM,CAACF,MAAMG,UAAU,EAAEC,IAAI,CAAC;YAAEC,SAASL,MAAMK,OAAO;QAAC;IACtE;IAEA,OAAOf,MAAMY,MAAM,CAAC,KAAKE,IAAI,CAAC;QAC5BE,SAASC,uCAAuB,CAACC,MAAM,CAACX,OAAOI,KAAK;IACtD;AACF"}