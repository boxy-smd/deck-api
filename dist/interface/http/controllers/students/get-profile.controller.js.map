{"version":3,"sources":["../../../../../src/interface/http/controllers/students/get-profile.controller.ts"],"sourcesContent":["import type { FastifyReply, FastifyRequest } from 'fastify'\n\nimport { makeGetProfileUseCase } from '@/interface/factories/students/make-get-profile-use-case'\nimport { StudentProfilePresenter } from '../../presenters/student-profile'\nimport type { GetProfileParams } from '../../schemas/students/get-profile.schemas'\n\nexport async function getProfile(\n  request: FastifyRequest<{\n    Params: GetProfileParams\n  }>,\n  reply: FastifyReply,\n) {\n  const { username } = request.params\n\n  const getProfileUseCase = makeGetProfileUseCase()\n\n  const result = await getProfileUseCase.execute({\n    username,\n  })\n\n  if (result.isLeft()) {\n    const error = result.value\n    return reply.status(error.statusCode).send({ message: error.message })\n  }\n\n  return reply.status(200).send({\n    profile: StudentProfilePresenter.toHTTP(result.value),\n  })\n}\n"],"names":["getProfile","request","reply","username","params","getProfileUseCase","makeGetProfileUseCase","result","execute","isLeft","error","value","status","statusCode","send","message","profile","StudentProfilePresenter","toHTTP"],"mappings":";;;;+BAMsBA;;;eAAAA;;;uCAJgB;gCACE;AAGjC,eAAeA,WACpBC,OAEE,EACFC,KAAmB;IAEnB,MAAM,EAAEC,QAAQ,EAAE,GAAGF,QAAQG,MAAM;IAEnC,MAAMC,oBAAoBC,IAAAA,4CAAqB;IAE/C,MAAMC,SAAS,MAAMF,kBAAkBG,OAAO,CAAC;QAC7CL;IACF;IAEA,IAAII,OAAOE,MAAM,IAAI;QACnB,MAAMC,QAAQH,OAAOI,KAAK;QAC1B,OAAOT,MAAMU,MAAM,CAACF,MAAMG,UAAU,EAAEC,IAAI,CAAC;YAAEC,SAASL,MAAMK,OAAO;QAAC;IACtE;IAEA,OAAOb,MAAMU,MAAM,CAAC,KAAKE,IAAI,CAAC;QAC5BE,SAASC,uCAAuB,CAACC,MAAM,CAACX,OAAOI,KAAK;IACtD;AACF"}