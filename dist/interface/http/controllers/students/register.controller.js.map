{"version":3,"sources":["../../../../../src/interface/http/controllers/students/register.controller.ts"],"sourcesContent":["import type { FastifyReply, FastifyRequest } from 'fastify'\n\nimport { makeRegisterUseCase } from '@/interface/factories/students/make-register-use-case'\nimport type { RegisterBody } from '@/interface/http/schemas/students/register.schemas'\n\nexport async function register(\n  request: FastifyRequest<{\n    Body: RegisterBody\n  }>,\n  reply: FastifyReply,\n) {\n  const {\n    name,\n    username,\n    email,\n    password,\n    semester,\n    about,\n    profileUrl,\n    trailsIds,\n  } = request.body\n\n  const registerUseCase = makeRegisterUseCase()\n\n  const result = await registerUseCase.execute({\n    name,\n    username,\n    email,\n    password,\n    semester,\n    about,\n    profileUrl,\n    trailsIds,\n  })\n\n  if (result.isLeft()) {\n    const error = result.value\n    return reply.status(error.statusCode).send({ message: error.message })\n  }\n\n  return reply.status(201).send({ user_id: result.value.id.toString() })\n}\n"],"names":["register","request","reply","name","username","email","password","semester","about","profileUrl","trailsIds","body","registerUseCase","makeRegisterUseCase","result","execute","isLeft","error","value","status","statusCode","send","message","user_id","id","toString"],"mappings":";;;;+BAKsBA;;;eAAAA;;;qCAHc;AAG7B,eAAeA,SACpBC,OAEE,EACFC,KAAmB;IAEnB,MAAM,EACJC,IAAI,EACJC,QAAQ,EACRC,KAAK,EACLC,QAAQ,EACRC,QAAQ,EACRC,KAAK,EACLC,UAAU,EACVC,SAAS,EACV,GAAGT,QAAQU,IAAI;IAEhB,MAAMC,kBAAkBC,IAAAA,wCAAmB;IAE3C,MAAMC,SAAS,MAAMF,gBAAgBG,OAAO,CAAC;QAC3CZ;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;IACF;IAEA,IAAII,OAAOE,MAAM,IAAI;QACnB,MAAMC,QAAQH,OAAOI,KAAK;QAC1B,OAAOhB,MAAMiB,MAAM,CAACF,MAAMG,UAAU,EAAEC,IAAI,CAAC;YAAEC,SAASL,MAAMK,OAAO;QAAC;IACtE;IAEA,OAAOpB,MAAMiB,MAAM,CAAC,KAAKE,IAAI,CAAC;QAAEE,SAAST,OAAOI,KAAK,CAACM,EAAE,CAACC,QAAQ;IAAG;AACtE"}