{"version":3,"sources":["../../../../../src/interface/http/controllers/comments/delete.controller.ts"],"sourcesContent":["import { makeDeleteCommentUseCase } from '@/interface/factories/comments/make-delete-comment-use-case'\nimport type { FastifyReply, FastifyRequest } from 'fastify'\nimport type { DeleteCommentParams } from '../../schemas/comments/delete.schemas'\n\nexport async function deleteComment(\n  request: FastifyRequest<{\n    Params: DeleteCommentParams\n  }>,\n  reply: FastifyReply,\n) {\n  const authorId = request.user.sign.sub\n  const { commentId, projectId } = request.params\n\n  const deleteCommentUseCase = makeDeleteCommentUseCase()\n\n  const result = await deleteCommentUseCase.execute({\n    authorId,\n    commentId,\n    projectId,\n  })\n\n  if (result.isLeft()) {\n    const error = result.value\n    return reply.status(error.statusCode).send({ message: error.message })\n  }\n\n  return reply.status(204).send()\n}\n"],"names":["deleteComment","request","reply","authorId","user","sign","sub","commentId","projectId","params","deleteCommentUseCase","makeDeleteCommentUseCase","result","execute","isLeft","error","value","status","statusCode","send","message"],"mappings":";;;;+BAIsBA;;;eAAAA;;;0CAJmB;AAIlC,eAAeA,cACpBC,OAEE,EACFC,KAAmB;IAEnB,MAAMC,WAAWF,QAAQG,IAAI,CAACC,IAAI,CAACC,GAAG;IACtC,MAAM,EAAEC,SAAS,EAAEC,SAAS,EAAE,GAAGP,QAAQQ,MAAM;IAE/C,MAAMC,uBAAuBC,IAAAA,kDAAwB;IAErD,MAAMC,SAAS,MAAMF,qBAAqBG,OAAO,CAAC;QAChDV;QACAI;QACAC;IACF;IAEA,IAAII,OAAOE,MAAM,IAAI;QACnB,MAAMC,QAAQH,OAAOI,KAAK;QAC1B,OAAOd,MAAMe,MAAM,CAACF,MAAMG,UAAU,EAAEC,IAAI,CAAC;YAAEC,SAASL,MAAMK,OAAO;QAAC;IACtE;IAEA,OAAOlB,MAAMe,MAAM,CAAC,KAAKE,IAAI;AAC/B"}