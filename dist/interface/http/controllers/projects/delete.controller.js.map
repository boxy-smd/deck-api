{"version":3,"sources":["../../../../../src/interface/http/controllers/projects/delete.controller.ts"],"sourcesContent":["import type { FastifyReply, FastifyRequest } from 'fastify'\n\nimport { makeDeleteProjectUseCase } from '@/interface/factories/projects/make-delete-project-use-case'\nimport type { DeleteProjectParams } from '../../schemas/projects/delete.schemas'\n\nexport async function deleteProject(\n  request: FastifyRequest<{\n    Params: DeleteProjectParams\n  }>,\n  reply: FastifyReply,\n) {\n  const studentId = request.user.sign.sub\n  const { projectId } = request.params\n\n  const deleteProjectUseCase = makeDeleteProjectUseCase()\n\n  const result = await deleteProjectUseCase.execute({\n    studentId,\n    projectId,\n  })\n\n  if (result.isLeft()) {\n    const error = result.value\n    return reply.status(error.statusCode).send({ message: error.message })\n  }\n\n  return reply.status(204).send()\n}\n"],"names":["deleteProject","request","reply","studentId","user","sign","sub","projectId","params","deleteProjectUseCase","makeDeleteProjectUseCase","result","execute","isLeft","error","value","status","statusCode","send","message"],"mappings":";;;;+BAKsBA;;;eAAAA;;;0CAHmB;AAGlC,eAAeA,cACpBC,OAEE,EACFC,KAAmB;IAEnB,MAAMC,YAAYF,QAAQG,IAAI,CAACC,IAAI,CAACC,GAAG;IACvC,MAAM,EAAEC,SAAS,EAAE,GAAGN,QAAQO,MAAM;IAEpC,MAAMC,uBAAuBC,IAAAA,kDAAwB;IAErD,MAAMC,SAAS,MAAMF,qBAAqBG,OAAO,CAAC;QAChDT;QACAI;IACF;IAEA,IAAII,OAAOE,MAAM,IAAI;QACnB,MAAMC,QAAQH,OAAOI,KAAK;QAC1B,OAAOb,MAAMc,MAAM,CAACF,MAAMG,UAAU,EAAEC,IAAI,CAAC;YAAEC,SAASL,MAAMK,OAAO;QAAC;IACtE;IAEA,OAAOjB,MAAMc,MAAM,CAAC,KAAKE,IAAI;AAC/B"}