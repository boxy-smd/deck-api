{"version":3,"sources":["../../../../src/interface/http/routes/students.routes.ts"],"sourcesContent":["import type { FastifyInstance } from 'fastify'\nimport type { ZodTypeProvider } from 'fastify-type-provider-zod'\n\nimport { editProfile } from '../controllers/students/edit-profile.controller'\nimport { fetchStudents } from '../controllers/students/fetch.controller'\nimport { getProfile } from '../controllers/students/get-profile.controller'\nimport { getStudentDetails } from '../controllers/students/get-student-details.controller'\nimport { login } from '../controllers/students/login.controller'\nimport { refresh } from '../controllers/students/refresh.controller'\nimport { register } from '../controllers/students/register.controller'\nimport { uploadProfileImage } from '../controllers/students/upload-profile-image'\nimport { type ProtectedRoute, verifyJWT } from '../middlewares/verify-jwt'\nimport { editProfileSchemas } from '../schemas/students/edit-profile.schemas'\nimport { fetchStudentsSchemas } from '../schemas/students/fetch.schemas'\nimport { getProfileSchemas } from '../schemas/students/get-profile.schemas'\nimport { getStudentDetailsSchemas } from '../schemas/students/get-student-details.schemas'\nimport { loginSchemas } from '../schemas/students/login.schemas'\nimport { refreshSchemas } from '../schemas/students/refresh.schemas'\nimport { registerSchemas } from '../schemas/students/register.schemas'\nimport { uploadProfileImageSchemas } from '../schemas/students/upload-profile-image.schemas'\n\n// biome-ignore lint/suspicious/useAwait: This function is a route handler and should not be awaited\nexport async function studentsRoutes(app: FastifyInstance) {\n  app\n    .withTypeProvider<ZodTypeProvider>()\n    .post(\n      '/profile-images/:username',\n      { schema: uploadProfileImageSchemas },\n      uploadProfileImage,\n    )\n\n  app\n    .withTypeProvider<ZodTypeProvider>()\n    .post('/students', { schema: registerSchemas }, register)\n\n  app\n    .withTypeProvider<ZodTypeProvider>()\n    .post('/sessions', { schema: loginSchemas }, login)\n\n  app\n    .withTypeProvider<ZodTypeProvider>()\n    .patch('/token/refresh', { schema: refreshSchemas }, refresh)\n\n  app\n    .withTypeProvider<ZodTypeProvider>()\n    .get('/profiles/:username', { schema: getProfileSchemas }, getProfile)\n\n  app.withTypeProvider<ZodTypeProvider>().put(\n    '/profiles/:studentId',\n    {\n      preHandler: verifyJWT,\n      schema: editProfileSchemas,\n    },\n    editProfile as ProtectedRoute,\n  )\n\n  app\n    .withTypeProvider<ZodTypeProvider>()\n    .get('/students', { schema: fetchStudentsSchemas }, fetchStudents)\n\n  app.withTypeProvider<ZodTypeProvider>().get(\n    '/students/me',\n    {\n      preHandler: verifyJWT,\n      schema: getStudentDetailsSchemas,\n    },\n    getStudentDetails as ProtectedRoute,\n  )\n}\n"],"names":["studentsRoutes","app","withTypeProvider","post","schema","uploadProfileImageSchemas","uploadProfileImage","registerSchemas","register","loginSchemas","login","patch","refreshSchemas","refresh","get","getProfileSchemas","getProfile","put","preHandler","verifyJWT","editProfileSchemas","editProfile","fetchStudentsSchemas","fetchStudents","getStudentDetailsSchemas","getStudentDetails"],"mappings":";;;;+BAsBsBA;;;eAAAA;;;uCAnBM;iCACE;sCACH;6CACO;iCACZ;mCACE;oCACC;oCACU;2BACY;oCACZ;8BACE;mCACH;0CACO;8BACZ;gCACE;iCACC;2CACU;AAGnC,eAAeA,eAAeC,GAAoB;IACvDA,IACGC,gBAAgB,GAChBC,IAAI,CACH,6BACA;QAAEC,QAAQC,oDAAyB;IAAC,GACpCC,sCAAkB;IAGtBL,IACGC,gBAAgB,GAChBC,IAAI,CAAC,aAAa;QAAEC,QAAQG,gCAAe;IAAC,GAAGC,4BAAQ;IAE1DP,IACGC,gBAAgB,GAChBC,IAAI,CAAC,aAAa;QAAEC,QAAQK,0BAAY;IAAC,GAAGC,sBAAK;IAEpDT,IACGC,gBAAgB,GAChBS,KAAK,CAAC,kBAAkB;QAAEP,QAAQQ,8BAAc;IAAC,GAAGC,0BAAO;IAE9DZ,IACGC,gBAAgB,GAChBY,GAAG,CAAC,uBAAuB;QAAEV,QAAQW,oCAAiB;IAAC,GAAGC,gCAAU;IAEvEf,IAAIC,gBAAgB,GAAoBe,GAAG,CACzC,wBACA;QACEC,YAAYC,oBAAS;QACrBf,QAAQgB,sCAAkB;IAC5B,GACAC,kCAAW;IAGbpB,IACGC,gBAAgB,GAChBY,GAAG,CAAC,aAAa;QAAEV,QAAQkB,kCAAoB;IAAC,GAAGC,8BAAa;IAEnEtB,IAAIC,gBAAgB,GAAoBY,GAAG,CACzC,gBACA;QACEI,YAAYC,oBAAS;QACrBf,QAAQoB,kDAAwB;IAClC,GACAC,8CAAiB;AAErB"}