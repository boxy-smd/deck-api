{"version":3,"sources":["../../../../src/interface/http/routes/comments.routes.ts"],"sourcesContent":["import type { FastifyInstance } from 'fastify'\nimport type { ZodTypeProvider } from 'fastify-type-provider-zod'\n\nimport { commentOnProject } from '../controllers/comments/comment-on-project.controller'\nimport { deleteComment } from '../controllers/comments/delete.controller'\nimport { reportComment } from '../controllers/comments/report.controller'\nimport { type ProtectedRoute, verifyJWT } from '../middlewares/verify-jwt'\nimport { commentOnProjectSchemas } from '../schemas/comments/comment-on-project.schemas'\nimport { deleteCommentSchemas } from '../schemas/comments/delete.schemas'\nimport { reportCommentSchemas } from '../schemas/comments/report.schemas'\n\n// biome-ignore lint/suspicious/useAwait: This function is a route handler and should not be awaited\nexport async function commentsRoutes(app: FastifyInstance) {\n  app.withTypeProvider<ZodTypeProvider>().post(\n    '/projects/:projectId/comments',\n    {\n      preHandler: verifyJWT,\n      schema: commentOnProjectSchemas,\n    },\n    commentOnProject as ProtectedRoute,\n  )\n\n  app.withTypeProvider<ZodTypeProvider>().post(\n    '/reports/:commentId',\n    {\n      preHandler: verifyJWT,\n      schema: reportCommentSchemas,\n    },\n    reportComment as ProtectedRoute,\n  )\n\n  app.withTypeProvider<ZodTypeProvider>().delete(\n    '/projects/:projectId/comments/:commentId',\n    {\n      preHandler: verifyJWT,\n      schema: deleteCommentSchemas,\n    },\n    deleteComment as ProtectedRoute,\n  )\n}\n"],"names":["commentsRoutes","app","withTypeProvider","post","preHandler","verifyJWT","schema","commentOnProjectSchemas","commentOnProject","reportCommentSchemas","reportComment","delete","deleteCommentSchemas","deleteComment"],"mappings":";;;;+BAYsBA;;;eAAAA;;;4CATW;kCACH;kCACA;2BACiB;yCACP;+BACH;+BACA;AAG9B,eAAeA,eAAeC,GAAoB;IACvDA,IAAIC,gBAAgB,GAAoBC,IAAI,CAC1C,iCACA;QACEC,YAAYC,oBAAS;QACrBC,QAAQC,gDAAuB;IACjC,GACAC,4CAAgB;IAGlBP,IAAIC,gBAAgB,GAAoBC,IAAI,CAC1C,uBACA;QACEC,YAAYC,oBAAS;QACrBC,QAAQG,mCAAoB;IAC9B,GACAC,+BAAa;IAGfT,IAAIC,gBAAgB,GAAoBS,MAAM,CAC5C,4CACA;QACEP,YAAYC,oBAAS;QACrBC,QAAQM,mCAAoB;IAC9B,GACAC,+BAAa;AAEjB"}