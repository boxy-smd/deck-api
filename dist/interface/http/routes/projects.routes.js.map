{"version":3,"sources":["../../../../src/interface/http/routes/projects.routes.ts"],"sourcesContent":["import type { FastifyInstance } from 'fastify'\nimport type { ZodTypeProvider } from 'fastify-type-provider-zod'\n\nimport { deleteProject } from '../controllers/projects/delete.controller'\nimport { fetchPosts } from '../controllers/projects/fetch-posts.controller'\nimport { filterPosts } from '../controllers/projects/filter-posts.controller'\nimport { getProject } from '../controllers/projects/get.controller'\nimport { publishProject } from '../controllers/projects/publish.controller'\nimport { searchPosts } from '../controllers/projects/search-posts.controller'\nimport { uploadBanner } from '../controllers/projects/upload-banner'\nimport { type ProtectedRoute, verifyJWT } from '../middlewares/verify-jwt'\nimport { deleteProjectSchemas } from '../schemas/projects/delete.schemas'\nimport { fetchPostsSchemas } from '../schemas/projects/fetch-posts'\nimport { filterPostsSchemas } from '../schemas/projects/filter-posts.schemas'\nimport { getProjectSchemas } from '../schemas/projects/get.schemas'\nimport { publishProjectSchemas } from '../schemas/projects/publish.schemas'\nimport { searchPostsSchemas } from '../schemas/projects/search-posts.schemas'\nimport { uploadBannerSchemas } from '../schemas/projects/upload-banner.schemas'\n\n// biome-ignore lint/suspicious/useAwait: This function is a route handler and should not be awaited\nexport async function projectsRoutes(app: FastifyInstance) {\n  app\n    .withTypeProvider<ZodTypeProvider>()\n    .post(\n      '/banners/:projectId',\n      { preHandler: verifyJWT, schema: uploadBannerSchemas },\n      uploadBanner as ProtectedRoute,\n    )\n\n  app.withTypeProvider<ZodTypeProvider>().get(\n    '/projects',\n    {\n      schema: fetchPostsSchemas,\n    },\n    fetchPosts,\n  )\n\n  app.withTypeProvider<ZodTypeProvider>().get(\n    '/projects/search',\n    {\n      schema: searchPostsSchemas,\n    },\n    searchPosts,\n  )\n\n  app.withTypeProvider<ZodTypeProvider>().get(\n    '/projects/filter',\n    {\n      schema: filterPostsSchemas,\n    },\n    filterPosts,\n  )\n\n  app.withTypeProvider<ZodTypeProvider>().get(\n    '/projects/:projectId',\n    {\n      schema: getProjectSchemas,\n    },\n    getProject,\n  )\n\n  app.withTypeProvider<ZodTypeProvider>().post(\n    '/projects',\n    {\n      preHandler: verifyJWT,\n      schema: publishProjectSchemas,\n    },\n    publishProject as ProtectedRoute,\n  )\n\n  app.withTypeProvider<ZodTypeProvider>().delete(\n    '/projects/:projectId',\n    {\n      preHandler: verifyJWT,\n      schema: deleteProjectSchemas,\n    },\n    deleteProject as ProtectedRoute,\n  )\n}\n"],"names":["projectsRoutes","app","withTypeProvider","post","preHandler","verifyJWT","schema","uploadBannerSchemas","uploadBanner","get","fetchPostsSchemas","fetchPosts","searchPostsSchemas","searchPosts","filterPostsSchemas","filterPosts","getProjectSchemas","getProject","publishProjectSchemas","publishProject","delete","deleteProjectSchemas","deleteProject"],"mappings":";;;;+BAoBsBA;;;eAAAA;;;kCAjBQ;sCACH;uCACC;+BACD;mCACI;uCACH;8BACC;2BACkB;+BACV;4BACH;oCACC;4BACD;gCACI;oCACH;qCACC;AAG7B,eAAeA,eAAeC,GAAoB;IACvDA,IACGC,gBAAgB,GAChBC,IAAI,CACH,uBACA;QAAEC,YAAYC,oBAAS;QAAEC,QAAQC,wCAAmB;IAAC,GACrDC,0BAAY;IAGhBP,IAAIC,gBAAgB,GAAoBO,GAAG,CACzC,aACA;QACEH,QAAQI,6BAAiB;IAC3B,GACAC,gCAAU;IAGZV,IAAIC,gBAAgB,GAAoBO,GAAG,CACzC,oBACA;QACEH,QAAQM,sCAAkB;IAC5B,GACAC,kCAAW;IAGbZ,IAAIC,gBAAgB,GAAoBO,GAAG,CACzC,oBACA;QACEH,QAAQQ,sCAAkB;IAC5B,GACAC,kCAAW;IAGbd,IAAIC,gBAAgB,GAAoBO,GAAG,CACzC,wBACA;QACEH,QAAQU,6BAAiB;IAC3B,GACAC,yBAAU;IAGZhB,IAAIC,gBAAgB,GAAoBC,IAAI,CAC1C,aACA;QACEC,YAAYC,oBAAS;QACrBC,QAAQY,qCAAqB;IAC/B,GACAC,iCAAc;IAGhBlB,IAAIC,gBAAgB,GAAoBkB,MAAM,CAC5C,wBACA;QACEhB,YAAYC,oBAAS;QACrBC,QAAQe,mCAAoB;IAC9B,GACAC,+BAAa;AAEjB"}