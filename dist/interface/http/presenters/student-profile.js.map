{"version":3,"sources":["../../../../src/interface/http/presenters/student-profile.ts"],"sourcesContent":["import type { StudentProfileWithDetails } from '@/domain/authentication/enterprise/value-objects/student-profile-with-details'\nimport type { User } from '@/domain/authentication/enterprise/entities/user'\n\n// biome-ignore lint/complexity/noStaticOnlyClass: This class is a presenter and should be static\nexport class StudentProfilePresenter {\n  static toHTTP(\n    student: User | StudentProfileWithDetails,\n  ) {\n    // Check if it's a StudentProfileWithDetails\n    const isProfileWithDetails = 'trails' in student && 'posts' in student\n    \n    if (isProfileWithDetails) {\n      const profile = student as StudentProfileWithDetails\n      return {\n        id: profile.id,\n        name: profile.name,\n        username: profile.username,\n        about: profile.about,\n        semester: profile.semester,\n        profileUrl: profile.profileUrl || '',\n        trails: profile.trails,\n        posts: profile.posts.map((post) => ({\n          id: post.id.toString(),\n          title: post.title,\n          description: post.description,\n          bannerUrl: post.bannerUrl,\n          content: post.content || '',\n          publishedYear: post.publishedYear,\n          semester: post.semester,\n          createdAt: post.createdAt,\n          updatedAt: post.updatedAt,\n          subject: post.subjectId?.toString() || '',\n          trails: Array.from(post.trails).map(t => t.toString()),\n          professors: Array.from(post.professors).map(p => p.toString()),\n        })),\n      }\n    }\n\n    // Fallback to regular User\n    return {\n      id: student.id.toString(),\n      name: student.name,\n      username: student.username.value,\n      about: student.about,\n      semester: student.profile?.semester.value || 1,\n      profileUrl: student.profileUrl || '',\n      trails: [],\n      posts: [],\n    }\n  }\n}\n"],"names":["StudentProfilePresenter","toHTTP","student","isProfileWithDetails","profile","id","name","username","about","semester","profileUrl","trails","posts","map","post","toString","title","description","bannerUrl","content","publishedYear","createdAt","updatedAt","subject","subjectId","Array","from","t","professors","p","value"],"mappings":";;;;+BAIaA;;;eAAAA;;;AAAN,IAAA,AAAMA,0BAAN,MAAMA;IACX,OAAOC,OACLC,OAAyC,EACzC;QACA,4CAA4C;QAC5C,MAAMC,uBAAuB,YAAYD,WAAW,WAAWA;QAE/D,IAAIC,sBAAsB;YACxB,MAAMC,UAAUF;YAChB,OAAO;gBACLG,IAAID,QAAQC,EAAE;gBACdC,MAAMF,QAAQE,IAAI;gBAClBC,UAAUH,QAAQG,QAAQ;gBAC1BC,OAAOJ,QAAQI,KAAK;gBACpBC,UAAUL,QAAQK,QAAQ;gBAC1BC,YAAYN,QAAQM,UAAU,IAAI;gBAClCC,QAAQP,QAAQO,MAAM;gBACtBC,OAAOR,QAAQQ,KAAK,CAACC,GAAG,CAAC,CAACC,OAAU,CAAA;wBAClCT,IAAIS,KAAKT,EAAE,CAACU,QAAQ;wBACpBC,OAAOF,KAAKE,KAAK;wBACjBC,aAAaH,KAAKG,WAAW;wBAC7BC,WAAWJ,KAAKI,SAAS;wBACzBC,SAASL,KAAKK,OAAO,IAAI;wBACzBC,eAAeN,KAAKM,aAAa;wBACjCX,UAAUK,KAAKL,QAAQ;wBACvBY,WAAWP,KAAKO,SAAS;wBACzBC,WAAWR,KAAKQ,SAAS;wBACzBC,SAAST,KAAKU,SAAS,EAAET,cAAc;wBACvCJ,QAAQc,MAAMC,IAAI,CAACZ,KAAKH,MAAM,EAAEE,GAAG,CAACc,CAAAA,IAAKA,EAAEZ,QAAQ;wBACnDa,YAAYH,MAAMC,IAAI,CAACZ,KAAKc,UAAU,EAAEf,GAAG,CAACgB,CAAAA,IAAKA,EAAEd,QAAQ;oBAC7D,CAAA;YACF;QACF;QAEA,2BAA2B;QAC3B,OAAO;YACLV,IAAIH,QAAQG,EAAE,CAACU,QAAQ;YACvBT,MAAMJ,QAAQI,IAAI;YAClBC,UAAUL,QAAQK,QAAQ,CAACuB,KAAK;YAChCtB,OAAON,QAAQM,KAAK;YACpBC,UAAUP,QAAQE,OAAO,EAAEK,SAASqB,SAAS;YAC7CpB,YAAYR,QAAQQ,UAAU,IAAI;YAClCC,QAAQ,EAAE;YACVC,OAAO,EAAE;QACX;IACF;AACF"}