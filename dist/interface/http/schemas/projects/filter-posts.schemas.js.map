{"version":3,"sources":["../../../../../src/interface/http/schemas/projects/filter-posts.schemas.ts"],"sourcesContent":["import { z } from 'zod'\n\nimport { errorResponseSchema, zodErrorSchema } from '../common.schemas'\n\nconst filterPostsQuerySchema = z.object(\n  {\n    trailsIds: z\n      .string({\n        description: 'Trail id to filter posts (comma-separated for multiple).',\n        message: 'Invalid trail id.',\n        invalid_type_error: 'Trail id must be a string.',\n      })\n      .optional(),\n    semester: z.coerce\n      .number({\n        description: 'Semester to filter posts.',\n        message: 'Invalid semester.',\n        invalid_type_error: 'Semester must be a number.',\n      })\n      .optional(),\n    subjectId: z\n      .string({\n        description: 'Subject id to filter posts.',\n        message: 'Invalid subject id.',\n        invalid_type_error: 'Subject id must be a string.',\n      })\n      .uuid('Invalid subject id.')\n      .optional(),\n    publishedYear: z.coerce\n      .number({\n        description: 'Published year to filter posts.',\n        message: 'Invalid published year.',\n        invalid_type_error: 'Published year must be a number.',\n      })\n      .optional(),\n  },\n  {\n    description: 'Query to filter posts.',\n  },\n)\n\nconst filterPostsResponseSchema = z.object(\n  {\n    posts: z\n      .array(\n        z.object({\n          id: z.string().uuid(),\n          title: z.string(),\n          description: z.string(),\n          bannerUrl: z.string().optional(),\n          content: z.string().optional(),\n          publishedYear: z.number(),\n          status: z.enum(['DRAFT', 'PUBLISHED', 'ARCHIVED']),\n          semester: z.number(),\n          createdAt: z.date(),\n          updatedAt: z.date().optional(),\n          authorId: z.string(),\n          author: z.object({\n            name: z.string(),\n            username: z.string(),\n            profileUrl: z.string().optional(),\n          }),\n          subjectId: z.string().uuid().optional(),\n          subject: z.object({\n            name: z.string(),\n          }).optional(),\n          trails: z.array(z.object({\n            name: z.string(),\n          })),\n          professors: z.array(z.object({\n            name: z.string(),\n          })).optional(),\n        }),\n      )\n      .optional(),\n  },\n  {\n    description: 'Posts filtered successfully.',\n  },\n)\n\nexport const filterPostsSchemas = {\n  summary: 'Filter posts',\n  tags: ['Projects'],\n  querystring: filterPostsQuerySchema,\n  response: {\n    200: filterPostsResponseSchema,\n    400: zodErrorSchema,\n    404: errorResponseSchema,\n  },\n}\n\nexport type FilterPostsQuery = z.infer<typeof filterPostsQuerySchema>\n"],"names":["filterPostsSchemas","filterPostsQuerySchema","z","object","trailsIds","string","description","message","invalid_type_error","optional","semester","coerce","number","subjectId","uuid","publishedYear","filterPostsResponseSchema","posts","array","id","title","bannerUrl","content","status","enum","createdAt","date","updatedAt","authorId","author","name","username","profileUrl","subject","trails","professors","summary","tags","querystring","response","zodErrorSchema","errorResponseSchema"],"mappings":";;;;+BAiFaA;;;eAAAA;;;qBAjFK;+BAEkC;AAEpD,MAAMC,yBAAyBC,MAAC,CAACC,MAAM,CACrC;IACEC,WAAWF,MAAC,CACTG,MAAM,CAAC;QACNC,aAAa;QACbC,SAAS;QACTC,oBAAoB;IACtB,GACCC,QAAQ;IACXC,UAAUR,MAAC,CAACS,MAAM,CACfC,MAAM,CAAC;QACNN,aAAa;QACbC,SAAS;QACTC,oBAAoB;IACtB,GACCC,QAAQ;IACXI,WAAWX,MAAC,CACTG,MAAM,CAAC;QACNC,aAAa;QACbC,SAAS;QACTC,oBAAoB;IACtB,GACCM,IAAI,CAAC,uBACLL,QAAQ;IACXM,eAAeb,MAAC,CAACS,MAAM,CACpBC,MAAM,CAAC;QACNN,aAAa;QACbC,SAAS;QACTC,oBAAoB;IACtB,GACCC,QAAQ;AACb,GACA;IACEH,aAAa;AACf;AAGF,MAAMU,4BAA4Bd,MAAC,CAACC,MAAM,CACxC;IACEc,OAAOf,MAAC,CACLgB,KAAK,CACJhB,MAAC,CAACC,MAAM,CAAC;QACPgB,IAAIjB,MAAC,CAACG,MAAM,GAAGS,IAAI;QACnBM,OAAOlB,MAAC,CAACG,MAAM;QACfC,aAAaJ,MAAC,CAACG,MAAM;QACrBgB,WAAWnB,MAAC,CAACG,MAAM,GAAGI,QAAQ;QAC9Ba,SAASpB,MAAC,CAACG,MAAM,GAAGI,QAAQ;QAC5BM,eAAeb,MAAC,CAACU,MAAM;QACvBW,QAAQrB,MAAC,CAACsB,IAAI,CAAC;YAAC;YAAS;YAAa;SAAW;QACjDd,UAAUR,MAAC,CAACU,MAAM;QAClBa,WAAWvB,MAAC,CAACwB,IAAI;QACjBC,WAAWzB,MAAC,CAACwB,IAAI,GAAGjB,QAAQ;QAC5BmB,UAAU1B,MAAC,CAACG,MAAM;QAClBwB,QAAQ3B,MAAC,CAACC,MAAM,CAAC;YACf2B,MAAM5B,MAAC,CAACG,MAAM;YACd0B,UAAU7B,MAAC,CAACG,MAAM;YAClB2B,YAAY9B,MAAC,CAACG,MAAM,GAAGI,QAAQ;QACjC;QACAI,WAAWX,MAAC,CAACG,MAAM,GAAGS,IAAI,GAAGL,QAAQ;QACrCwB,SAAS/B,MAAC,CAACC,MAAM,CAAC;YAChB2B,MAAM5B,MAAC,CAACG,MAAM;QAChB,GAAGI,QAAQ;QACXyB,QAAQhC,MAAC,CAACgB,KAAK,CAAChB,MAAC,CAACC,MAAM,CAAC;YACvB2B,MAAM5B,MAAC,CAACG,MAAM;QAChB;QACA8B,YAAYjC,MAAC,CAACgB,KAAK,CAAChB,MAAC,CAACC,MAAM,CAAC;YAC3B2B,MAAM5B,MAAC,CAACG,MAAM;QAChB,IAAII,QAAQ;IACd,IAEDA,QAAQ;AACb,GACA;IACEH,aAAa;AACf;AAGK,MAAMN,qBAAqB;IAChCoC,SAAS;IACTC,MAAM;QAAC;KAAW;IAClBC,aAAarC;IACbsC,UAAU;QACR,KAAKvB;QACL,KAAKwB,6BAAc;QACnB,KAAKC,kCAAmB;IAC1B;AACF"}