{"version":3,"sources":["../../../../../src/interface/http/schemas/projects/search-posts.schemas.ts"],"sourcesContent":["import { z } from 'zod'\n\nimport { errorResponseSchema, zodErrorSchema } from '../common.schemas'\n\nconst searchPostsQuerySchema = z.object(\n  {\n    professorName: z\n      .string({\n        description: 'Name of the professor to search posts.',\n        invalid_type_error: 'Professor name must be a string.',\n      })\n      .min(1, 'Professor name must have at least 1 character.')\n      .optional(),\n    tag: z\n      .string({\n        description: 'Tag to search posts.',\n        invalid_type_error: 'Tag must be a string.',\n      })\n      .min(1, 'Tag must have at least 1 character.')\n      .optional(),\n    title: z\n      .string({\n        description: 'Title to search posts.',\n        invalid_type_error: 'Title must be a string.',\n      })\n      .min(1, 'Title must have at least 1 character.')\n      .optional(),\n  },\n  {\n    description: 'Query to search posts.',\n  },\n)\n\nconst searchPostsResponseSchema = z.object(\n  {\n    posts: z\n      .array(\n        z.object({\n          id: z.string().uuid(),\n          title: z.string(),\n          description: z.string(),\n          bannerUrl: z.string().optional(),\n          content: z.string().optional(),\n          publishedYear: z.number(),\n          status: z.enum(['DRAFT', 'PUBLISHED', 'ARCHIVED']),\n          semester: z.number(),\n          createdAt: z.date(),\n          updatedAt: z.date().optional(),\n          authorId: z.string(),\n          author: z.object({\n            name: z.string(),\n            username: z.string(),\n            profileUrl: z.string().optional(),\n          }),\n          subjectId: z.string().uuid().optional(),\n          subject: z.object({\n            name: z.string(),\n          }).optional(),\n          trails: z.array(z.object({\n            name: z.string(),\n          })),\n          professors: z.array(z.object({\n            name: z.string(),\n          })).optional(),\n        }),\n      )\n      .optional(),\n  },\n  {\n    description: 'Posts searched successfully.',\n  },\n)\n\nexport const searchPostsSchemas = {\n  summary: 'Fetch posts',\n  tags: ['Projects'],\n  querystring: searchPostsQuerySchema,\n  response: {\n    200: searchPostsResponseSchema,\n    400: zodErrorSchema,\n    404: errorResponseSchema,\n  },\n}\n\nexport type SearchPostsQuery = z.infer<typeof searchPostsQuerySchema>\n"],"names":["searchPostsSchemas","searchPostsQuerySchema","z","object","professorName","string","description","invalid_type_error","min","optional","tag","title","searchPostsResponseSchema","posts","array","id","uuid","bannerUrl","content","publishedYear","number","status","enum","semester","createdAt","date","updatedAt","authorId","author","name","username","profileUrl","subjectId","subject","trails","professors","summary","tags","querystring","response","zodErrorSchema","errorResponseSchema"],"mappings":";;;;+BAyEaA;;;eAAAA;;;qBAzEK;+BAEkC;AAEpD,MAAMC,yBAAyBC,MAAC,CAACC,MAAM,CACrC;IACEC,eAAeF,MAAC,CACbG,MAAM,CAAC;QACNC,aAAa;QACbC,oBAAoB;IACtB,GACCC,GAAG,CAAC,GAAG,kDACPC,QAAQ;IACXC,KAAKR,MAAC,CACHG,MAAM,CAAC;QACNC,aAAa;QACbC,oBAAoB;IACtB,GACCC,GAAG,CAAC,GAAG,uCACPC,QAAQ;IACXE,OAAOT,MAAC,CACLG,MAAM,CAAC;QACNC,aAAa;QACbC,oBAAoB;IACtB,GACCC,GAAG,CAAC,GAAG,yCACPC,QAAQ;AACb,GACA;IACEH,aAAa;AACf;AAGF,MAAMM,4BAA4BV,MAAC,CAACC,MAAM,CACxC;IACEU,OAAOX,MAAC,CACLY,KAAK,CACJZ,MAAC,CAACC,MAAM,CAAC;QACPY,IAAIb,MAAC,CAACG,MAAM,GAAGW,IAAI;QACnBL,OAAOT,MAAC,CAACG,MAAM;QACfC,aAAaJ,MAAC,CAACG,MAAM;QACrBY,WAAWf,MAAC,CAACG,MAAM,GAAGI,QAAQ;QAC9BS,SAAShB,MAAC,CAACG,MAAM,GAAGI,QAAQ;QAC5BU,eAAejB,MAAC,CAACkB,MAAM;QACvBC,QAAQnB,MAAC,CAACoB,IAAI,CAAC;YAAC;YAAS;YAAa;SAAW;QACjDC,UAAUrB,MAAC,CAACkB,MAAM;QAClBI,WAAWtB,MAAC,CAACuB,IAAI;QACjBC,WAAWxB,MAAC,CAACuB,IAAI,GAAGhB,QAAQ;QAC5BkB,UAAUzB,MAAC,CAACG,MAAM;QAClBuB,QAAQ1B,MAAC,CAACC,MAAM,CAAC;YACf0B,MAAM3B,MAAC,CAACG,MAAM;YACdyB,UAAU5B,MAAC,CAACG,MAAM;YAClB0B,YAAY7B,MAAC,CAACG,MAAM,GAAGI,QAAQ;QACjC;QACAuB,WAAW9B,MAAC,CAACG,MAAM,GAAGW,IAAI,GAAGP,QAAQ;QACrCwB,SAAS/B,MAAC,CAACC,MAAM,CAAC;YAChB0B,MAAM3B,MAAC,CAACG,MAAM;QAChB,GAAGI,QAAQ;QACXyB,QAAQhC,MAAC,CAACY,KAAK,CAACZ,MAAC,CAACC,MAAM,CAAC;YACvB0B,MAAM3B,MAAC,CAACG,MAAM;QAChB;QACA8B,YAAYjC,MAAC,CAACY,KAAK,CAACZ,MAAC,CAACC,MAAM,CAAC;YAC3B0B,MAAM3B,MAAC,CAACG,MAAM;QAChB,IAAII,QAAQ;IACd,IAEDA,QAAQ;AACb,GACA;IACEH,aAAa;AACf;AAGK,MAAMN,qBAAqB;IAChCoC,SAAS;IACTC,MAAM;QAAC;KAAW;IAClBC,aAAarC;IACbsC,UAAU;QACR,KAAK3B;QACL,KAAK4B,6BAAc;QACnB,KAAKC,kCAAmB;IAC1B;AACF"}