{"version":3,"sources":["../../../../../src/infra/database/prisma/mappers/prisma-comment-mapper.ts"],"sourcesContent":["import type { Comment as CommentRaw, Prisma } from '@prisma/client'\n\nimport { Comment } from '@/domain/interaction/enterprise/entities/comment'\nimport { CommentWithAuthor } from '@/domain/interaction/enterprise/entities/value-objects/comment-with-author'\nimport { UniqueEntityID } from '@/shared/kernel/unique-entity-id'\n\n// biome-ignore lint/complexity/noStaticOnlyClass: This class is a mapper and should have only static methods\nexport class PrismaCommentMapper {\n  static toEntity(raw: CommentRaw): Comment {\n    return Comment.create(\n      {\n        content: raw.content,\n        authorId: UniqueEntityID.create(raw.authorId),\n        projectId: UniqueEntityID.create(raw.projectId),\n      },\n      UniqueEntityID.create(raw.id),\n    )\n  }\n\n  static toEntityWithAuthor(\n    raw: CommentRaw & {\n      author: {\n        name: string\n        username: string\n        profileUrl: string | null\n      }\n    },\n  ): CommentWithAuthor {\n    return CommentWithAuthor.create({\n      commentId: UniqueEntityID.create(raw.id),\n      content: raw.content,\n      createdAt: raw.createdAt,\n      updatedAt: raw.updatedAt,\n      authorId: UniqueEntityID.create(raw.authorId),\n      authorName: raw.author.name,\n      authorUsername: raw.author.username,\n      authorProfileUrl: raw.author.profileUrl,\n      projectId: UniqueEntityID.create(raw.projectId),\n    })\n  }\n\n  static toPrisma(comment: Comment): Prisma.CommentUncheckedCreateInput {\n    return {\n      id: comment.id.toString(),\n      content: comment.content,\n      authorId: comment.authorId.toString(),\n      projectId: comment.projectId.toString(),\n    }\n  }\n}\n"],"names":["PrismaCommentMapper","toEntity","raw","Comment","create","content","authorId","UniqueEntityID","projectId","id","toEntityWithAuthor","CommentWithAuthor","commentId","createdAt","updatedAt","authorName","author","name","authorUsername","username","authorProfileUrl","profileUrl","toPrisma","comment","toString"],"mappings":";;;;+BAOaA;;;eAAAA;;;yBALW;mCACU;gCACH;AAGxB,IAAA,AAAMA,sBAAN,MAAMA;IACX,OAAOC,SAASC,GAAe,EAAW;QACxC,OAAOC,gBAAO,CAACC,MAAM,CACnB;YACEC,SAASH,IAAIG,OAAO;YACpBC,UAAUC,8BAAc,CAACH,MAAM,CAACF,IAAII,QAAQ;YAC5CE,WAAWD,8BAAc,CAACH,MAAM,CAACF,IAAIM,SAAS;QAChD,GACAD,8BAAc,CAACH,MAAM,CAACF,IAAIO,EAAE;IAEhC;IAEA,OAAOC,mBACLR,GAMC,EACkB;QACnB,OAAOS,oCAAiB,CAACP,MAAM,CAAC;YAC9BQ,WAAWL,8BAAc,CAACH,MAAM,CAACF,IAAIO,EAAE;YACvCJ,SAASH,IAAIG,OAAO;YACpBQ,WAAWX,IAAIW,SAAS;YACxBC,WAAWZ,IAAIY,SAAS;YACxBR,UAAUC,8BAAc,CAACH,MAAM,CAACF,IAAII,QAAQ;YAC5CS,YAAYb,IAAIc,MAAM,CAACC,IAAI;YAC3BC,gBAAgBhB,IAAIc,MAAM,CAACG,QAAQ;YACnCC,kBAAkBlB,IAAIc,MAAM,CAACK,UAAU;YACvCb,WAAWD,8BAAc,CAACH,MAAM,CAACF,IAAIM,SAAS;QAChD;IACF;IAEA,OAAOc,SAASC,OAAgB,EAAsC;QACpE,OAAO;YACLd,IAAIc,QAAQd,EAAE,CAACe,QAAQ;YACvBnB,SAASkB,QAAQlB,OAAO;YACxBC,UAAUiB,QAAQjB,QAAQ,CAACkB,QAAQ;YACnChB,WAAWe,QAAQf,SAAS,CAACgB,QAAQ;QACvC;IACF;AACF"}