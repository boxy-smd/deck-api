{"version":3,"sources":["../../../../src/infra/database/firebase/banner-uploader.ts"],"sourcesContent":["import { getDownloadURL, ref, uploadBytes } from 'firebase/storage'\n\nimport { StorageUploader } from '@/domain/authentication/application/storage/uploader'\nimport { bannersRef } from '@/infra/config/services/firebase'\n\nexport class FirebaseBannerUploader extends StorageUploader {\n  async upload(\n    image: Buffer,\n    filename: string,\n  ): Promise<{ downloadUrl: string }> {\n    const imageReference = ref(bannersRef, filename)\n\n    await uploadBytes(imageReference, image)\n\n    const downloadUrl = await getDownloadURL(imageReference)\n\n    return {\n      downloadUrl,\n    }\n  }\n}\n"],"names":["FirebaseBannerUploader","StorageUploader","upload","image","filename","imageReference","ref","bannersRef","uploadBytes","downloadUrl","getDownloadURL"],"mappings":";;;;+BAKaA;;;eAAAA;;;yBALoC;0BAEjB;0BACL;AAEpB,IAAA,AAAMA,yBAAN,MAAMA,+BAA+BC,yBAAe;IACzD,MAAMC,OACJC,KAAa,EACbC,QAAgB,EACkB;QAClC,MAAMC,iBAAiBC,IAAAA,YAAG,EAACC,oBAAU,EAAEH;QAEvC,MAAMI,IAAAA,oBAAW,EAACH,gBAAgBF;QAElC,MAAMM,cAAc,MAAMC,IAAAA,uBAAc,EAACL;QAEzC,OAAO;YACLI;QACF;IACF;AACF"}