{"version":3,"sources":["../../../../src/infra/database/firebase/profile-uploader.ts"],"sourcesContent":["import { getDownloadURL, ref, uploadBytes } from 'firebase/storage'\n\nimport { StorageUploader } from '@/domain/authentication/application/storage/uploader'\nimport { profilesRef } from '@/infra/config/services/firebase'\n\nexport class FirebaseProfileUploader extends StorageUploader {\n  async upload(\n    image: Buffer,\n    filename: string,\n  ): Promise<{ downloadUrl: string }> {\n    const imageReference = ref(profilesRef, filename)\n\n    await uploadBytes(imageReference, image)\n\n    const downloadUrl = await getDownloadURL(imageReference)\n\n    return {\n      downloadUrl,\n    }\n  }\n}\n"],"names":["FirebaseProfileUploader","StorageUploader","upload","image","filename","imageReference","ref","profilesRef","uploadBytes","downloadUrl","getDownloadURL"],"mappings":";;;;+BAKaA;;;eAAAA;;;yBALoC;0BAEjB;0BACJ;AAErB,IAAA,AAAMA,0BAAN,MAAMA,gCAAgCC,yBAAe;IAC1D,MAAMC,OACJC,KAAa,EACbC,QAAgB,EACkB;QAClC,MAAMC,iBAAiBC,IAAAA,YAAG,EAACC,qBAAW,EAAEH;QAExC,MAAMI,IAAAA,oBAAW,EAACH,gBAAgBF;QAElC,MAAMM,cAAc,MAAMC,IAAAA,uBAAc,EAACL;QAEzC,OAAO;YACLI;QACF;IACF;AACF"}