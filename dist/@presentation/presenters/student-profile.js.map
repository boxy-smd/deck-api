{"version":3,"sources":["../../../src/@presentation/presenters/student-profile.ts"],"sourcesContent":["import type { User } from '@/@core/domain/authentication/enterprise/entities/user'\r\nimport type { StudentProfileWithDetails } from '@/@core/domain/authentication/enterprise/value-objects/student-profile-with-details'\r\n\r\n// biome-ignore lint/complexity/noStaticOnlyClass: This class is a presenter and should be static\r\nexport class StudentProfilePresenter {\r\n  static toHTTP(student: User | StudentProfileWithDetails) {\r\n    // Check if it's a StudentProfileWithDetails\r\n    const isProfileWithDetails = 'trails' in student && 'posts' in student\r\n\r\n    if (isProfileWithDetails) {\r\n      const profile = student as StudentProfileWithDetails\r\n      return {\r\n        id: profile.id,\r\n        name: profile.name,\r\n        username: profile.username,\r\n        about: profile.about,\r\n        semester: profile.semester,\r\n        profileUrl: profile.profileUrl || '',\r\n        trails: profile.trails,\r\n        posts: profile.posts.map(post => ({\r\n          id: post.id.toString(),\r\n          title: post.title,\r\n          description: post.description,\r\n          bannerUrl: post.bannerUrl,\r\n          content: post.content || '',\r\n          publishedYear: post.publishedYear,\r\n          semester: post.semester,\r\n          createdAt: post.createdAt,\r\n          updatedAt: post.updatedAt,\r\n          subject: post.subjectId?.toString() || '',\r\n          trails: Array.from(post.trails).map(t => t.toString()),\r\n          professors: Array.from(post.professors).map(p => p.toString()),\r\n        })),\r\n      }\r\n    }\r\n\r\n    // Fallback to regular User\r\n    return {\r\n      id: student.id.toString(),\r\n      name: student.name,\r\n      username: student.username.value,\r\n      about: student.about,\r\n      semester: student.profile?.semester.value || 1,\r\n      profileUrl: student.profileUrl || '',\r\n      trails: [],\r\n      posts: [],\r\n    }\r\n  }\r\n}\r\n"],"names":["StudentProfilePresenter","toHTTP","student","isProfileWithDetails","profile","id","name","username","about","semester","profileUrl","trails","posts","map","post","toString","title","description","bannerUrl","content","publishedYear","createdAt","updatedAt","subject","subjectId","Array","from","t","professors","p","value"],"mappings":";;;;+BAIaA;;;eAAAA;;;AAAN,IAAA,AAAMA,0BAAN,MAAMA;IACX,OAAOC,OAAOC,OAAyC,EAAE;QACvD,4CAA4C;QAC5C,MAAMC,uBAAuB,YAAYD,WAAW,WAAWA;QAE/D,IAAIC,sBAAsB;YACxB,MAAMC,UAAUF;YAChB,OAAO;gBACLG,IAAID,QAAQC,EAAE;gBACdC,MAAMF,QAAQE,IAAI;gBAClBC,UAAUH,QAAQG,QAAQ;gBAC1BC,OAAOJ,QAAQI,KAAK;gBACpBC,UAAUL,QAAQK,QAAQ;gBAC1BC,YAAYN,QAAQM,UAAU,IAAI;gBAClCC,QAAQP,QAAQO,MAAM;gBACtBC,OAAOR,QAAQQ,KAAK,CAACC,GAAG,CAACC,CAAAA,OAAS,CAAA;wBAChCT,IAAIS,KAAKT,EAAE,CAACU,QAAQ;wBACpBC,OAAOF,KAAKE,KAAK;wBACjBC,aAAaH,KAAKG,WAAW;wBAC7BC,WAAWJ,KAAKI,SAAS;wBACzBC,SAASL,KAAKK,OAAO,IAAI;wBACzBC,eAAeN,KAAKM,aAAa;wBACjCX,UAAUK,KAAKL,QAAQ;wBACvBY,WAAWP,KAAKO,SAAS;wBACzBC,WAAWR,KAAKQ,SAAS;wBACzBC,SAAST,KAAKU,SAAS,EAAET,cAAc;wBACvCJ,QAAQc,MAAMC,IAAI,CAACZ,KAAKH,MAAM,EAAEE,GAAG,CAACc,CAAAA,IAAKA,EAAEZ,QAAQ;wBACnDa,YAAYH,MAAMC,IAAI,CAACZ,KAAKc,UAAU,EAAEf,GAAG,CAACgB,CAAAA,IAAKA,EAAEd,QAAQ;oBAC7D,CAAA;YACF;QACF;QAEA,2BAA2B;QAC3B,OAAO;YACLV,IAAIH,QAAQG,EAAE,CAACU,QAAQ;YACvBT,MAAMJ,QAAQI,IAAI;YAClBC,UAAUL,QAAQK,QAAQ,CAACuB,KAAK;YAChCtB,OAAON,QAAQM,KAAK;YACpBC,UAAUP,QAAQE,OAAO,EAAEK,SAASqB,SAAS;YAC7CpB,YAAYR,QAAQQ,UAAU,IAAI;YAClCC,QAAQ,EAAE;YACVC,OAAO,EAAE;QACX;IACF;AACF"}